version: "2.0"
rules:
  - rule: Greet user
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Thank you
    steps:
      - intent: thankyou
      - action: utter_noworries

  - rule: Bot challenge
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - rule: Chitchat
    steps:
      - intent: chitchat
      - action: utter_chitchat

  - rule: functionalities
    steps:
      - intent: functionalities
      - action: utter_functionalities

  # form --- TIPO DI LAUREA ---
  - rule: activate course form
    steps:
    - action: course_form
    - active_loop: course_form
  - rule: submit course form
    condition:
    - active_loop: course_form
    steps:
      - action: course_form
      - active_loop: null
      - action: utter_submit
      - action: utter_slots_values
  # form --- CORSO DI STUDI ---
  - rule: activate studies form
    steps:
    - action: studies_form
    - active_loop: studies_form
  - rule: submit studies form
    condition:
    - active_loop: studies_form
    steps:
      - action: studies_form
      - active_loop: null
      - action: utter_submit
      - action: utter_slots_values
  # action --- PIANO STUDI ---
  - rule: change study plan action
    steps:
    - intent: topic/piano-studi
    - slot_was_set:
      - requested_slot: course
    - slot_was_set:
      - requested_slot: studies
    - action: action_study_plan
  - rule: admissions action activate form
    steps:
    - action: action_study_plan

  # action --- AMMISSIONi ---
  - rule: admissions action
    steps:
    - intent: topic/ammissioni
    - slot_was_set:
      - requested_slot: course
    - action: action_admissions
